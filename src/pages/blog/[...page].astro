---
import { type CollectionEntry, getCollection } from "astro:content";
import BlogPost from "../../layouts/BlogPost.astro";

export async function getStaticPaths({ paginate }) {
  // const posts = await getCollection("blog");
  const posts = await Astro.glob("./*.md*");

  return paginate(posts, {
    pageSize: 2,
  });
}

const { page } = Astro.props;

// console.log(page.url);
---

<h1>Page {page.currentPage}</h1>
{
  page.data.map((post) => (
    <BlogPost 
      title={post.frontmatter.title}
      pubDate='Jul 22 2024'
    />

    // <>
    //   <h1>{post.frontmatter.title}</h1>
    //   <a href={post.url}>{post.url}</a>
    // </>
  ))
}
<br />
{page.url.prev ? <a href={page.url.prev}>Previous</a> : null}
{page.url.next ? <a href={page.url.next}>Next</a> : null}
